{% extends "base.html" %}

{% load static %}

{% block navbar %}
<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid px-4 px-lg-5">
        <!-- Brand -->
        <a class="navbar-brand d-flex align-items-center gap-2" href="{% url 'home' %}">
            <img src="{% static 'images/cinnamon_cloud_logo.jpg' %}" alt="Wool & Silk LOGO" width="44" height="44" class="rounded-circle">
        </a>
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Nav links -->
        <div id="nav" class="collapse navbar-collapse">
            <!-- LEFT side -->
            <ul class="navbar-nav mb-2 mb-lg-0 align-items-lg-center me-auto">
                <li class="nav-item"><a class="nav-link px-3" href="{% url 'home' %}">Home</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="#classes">Classes</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="#tutorials">Tutorials</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="#shop">Shop</a></li>
            </ul>

            <!-- RIGHT side -->
            <ul class="navbar-nav mb-2 mb-lg-0 ms-auto">
                <li class="nav-item"><a class="btn btn-sm btn-ws-primary px-3" href="#classes">Book a Class</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="#testimonials">Testimonials</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="#contact">Contact</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link text-black" href="#" id="user-options" data-bs-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <div class="text-center">
                            <div><i class="fas fa-user fa-lg"></i></div>
                            <p class="my-0">My Account</p>
                        </div>
                    </a>
                    <div class="dropdown-menu border-0" aria-labelledby="user-options">
                        {% if request.user.is_authenticated %}
                        {% if request.user.is_superuser %}
                        <a href="" class="dropdown-item">Product Management</a>
                        {% endif %}
                        <a href="" class="dropdown-item">My Profile</a>
                        <a href="{% url 'account_logout' %}" class="dropdown-item">Logout</a>
                        {% else %}
                        <a href="{% url 'account_signup' %}" class="dropdown-item">Register</a>
                        <a href="{% url 'account_login' %}" class="dropdown-item">Login</a>
                        {% endif %}
                    </div>
                </li>

                <!-- Shopping bag -->
                <li class="nav-item">
                    <a class="{% if grand_total %}text-info fw-bold{% else %}text-black{% endif %} nav-link" href="">
                        <div class="text-center">
                            <div><i class="fas fa-shopping-bag fa-lg"></i></div>
                            <p class="my-0">
                                {% if grand_total %}
                                ${{ grand_total|floatformat:2 }}
                                {% else %}
                                Â£0.00
                                {% endif %}
                            </p>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

{% endblock %}

